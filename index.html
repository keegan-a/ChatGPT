<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Oscilloscope Laser Dimension Visualizer</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main class="layout">
    <section class="control-panel">
      <header>
        <h1>Laser Vertex Lab</h1>
        <p class="tagline">Multi-dimensional oscilloscope-inspired visualizer</p>
      </header>
      <div class="controls">
        <label>Audio file
          <input type="file" id="audioInput" accept="audio/*" />
        </label>
        <div class="two-col">
          <label>Dimension
            <input type="range" id="dimension" min="1" max="5" value="3" />
            <span class="value" data-for="dimension">3D</span>
          </label>
          <label>Vertices
            <input type="range" id="vertexCount" min="3" max="160" value="60" />
            <span class="value" data-for="vertexCount">60</span>
          </label>
        </div>
        <div class="two-col">
          <label>Color
            <input type="color" id="color" value="#8bf7b2" />
          </label>
          <label>Background glow
            <input type="range" id="feedback" min="0" max="0.3" step="0.01" value="0.08" />
            <span class="value" data-for="feedback">0.08</span>
          </label>
        </div>
        <div class="two-col">
          <label>Display scale
            <input type="range" id="displayScale" min="0.2" max="1.2" step="0.02" value="0.6" />
            <span class="value" data-for="displayScale">0.60</span>
          </label>
          <label>Offset X
            <input type="range" id="offsetX" min="-420" max="420" step="5" value="0" />
            <span class="value" data-for="offsetX">0</span>
          </label>
        </div>
        <div class="two-col">
          <label>Color pulse
            <input type="range" id="colorPulse" min="0" max="1" step="0.05" value="0.45" />
            <span class="value" data-for="colorPulse">0.45</span>
          </label>
          <label>Offset Y
            <input type="range" id="offsetY" min="-320" max="320" step="5" value="0" />
            <span class="value" data-for="offsetY">0</span>
          </label>
        </div>
        <div class="two-col">
          <label>Distortion
            <input type="range" id="distortion" min="0" max="1" step="0.01" value="0.2" />
            <span class="value" data-for="distortion">0.20</span>
          </label>
          <label>Audio reactiveness
            <input type="range" id="audioReact" min="0" max="2" step="0.05" value="1" />
            <span class="value" data-for="audioReact">1.00</span>
          </label>
        </div>
        <div class="two-col">
          <label>Audio boost
            <input type="range" id="audioBoost" min="1" max="8" step="0.1" value="2.6" />
            <span class="value" data-for="audioBoost">2.60</span>
          </label>
          <label>Reactive style
            <select id="reactiveStyle">
              <option value="fluid">Fluid</option>
              <option value="pulse">Pulse</option>
              <option value="zigzag">Zig-zag</option>
              <option value="strobe">Strobe</option>
            </select>
          </label>
        </div>
        <div class="two-col">
          <label>Beat sensitivity
            <input type="range" id="beatSensitivity" min="0" max="1" step="0.05" value="0.45" />
            <span class="value" data-for="beatSensitivity">0.45</span>
          </label>
          <label>Waveform mix
            <input type="range" id="waveformMix" min="0" max="1" step="0.05" value="0.5" />
            <span class="value" data-for="waveformMix">0.50</span>
          </label>
        </div>
        <div class="two-col">
          <label>Rotation speed
            <input type="range" id="rotation" min="0" max="0.03" step="0.001" value="0.012" />
            <span class="value" data-for="rotation">0.012</span>
          </label>
          <label>Laser thickness
            <input type="range" id="thickness" min="0.3" max="4" step="0.1" value="1.6" />
            <span class="value" data-for="thickness">1.6</span>
          </label>
        </div>
        <div class="two-col">
          <label>Amplitude spread
            <input type="range" id="spread" min="0" max="1" step="0.02" value="0.5" />
            <span class="value" data-for="spread">0.50</span>
          </label>
          <label>Feedback distortion
            <input type="range" id="feedbackDistortion" min="0" max="1.4" step="0.02" value="0.4" />
            <span class="value" data-for="feedbackDistortion">0.40</span>
          </label>
        </div>
        <div class="two-col">
          <label>Feedback frames
            <input type="range" id="mirrorIntensity" min="0" max="0.9" step="0.05" value="0.35" />
            <span class="value" data-for="mirrorIntensity">0.35</span>
          </label>
          <label>Laser bloom
            <input type="range" id="bloom" min="0" max="30" step="1" value="16" />
            <span class="value" data-for="bloom">16</span>
          </label>
        </div>
        <div class="two-col">
          <label>Shape overlay
            <select id="shapeMode">
              <option value="none">None (vertices only)</option>
              <option value="circle">Circle</option>
              <option value="polygon">Polygon</option>
              <option value="lissajous">Lissajous</option>
              <option value="spiral">Spiral</option>
            </select>
          </label>
          <label>Overlay size
            <input type="range" id="shapeSize" min="0.3" max="2" step="0.05" value="1" />
            <span class="value" data-for="shapeSize">1.00</span>
          </label>
        </div>
        <div class="two-col">
          <label>Oscillator rate
            <input type="range" id="oscRate" min="0" max="6" step="0.1" value="1.6" />
            <span class="value" data-for="oscRate">1.6</span>
          </label>
          <label>Oscillator depth
            <input type="range" id="oscDepth" min="0" max="1" step="0.02" value="0.4" />
            <span class="value" data-for="oscDepth">0.40</span>
          </label>
        </div>
        <div class="two-col">
          <label>Osc voices
            <input type="range" id="oscVoices" min="1" max="4" step="1" value="2" />
            <span class="value" data-for="oscVoices">2</span>
          </label>
          <label>Phase spread
            <input type="range" id="phaseSpread" min="0" max="180" step="5" value="60" />
            <span class="value" data-for="phaseSpread">60</span>
          </label>
        </div>
        <div class="two-col">
          <label>Timebase (trace speed)
            <input type="range" id="timebase" min="0.5" max="4" step="0.1" value="1.4" />
            <span class="value" data-for="timebase">1.40</span>
          </label>
          <label>Trace brightness
            <input type="range" id="traceBrightness" min="0" max="1" step="0.05" value="0.6" />
            <span class="value" data-for="traceBrightness">0.60</span>
          </label>
        </div>
        <div class="buttons">
          <button id="playPause" disabled>Play</button>
          <button id="reset" type="button">Reset wave</button>
        </div>
        <p class="hint">Upload an audio file, then sculpt the laser field by adjusting the controls. Dimensions 4 & 5 duplicate and shrink the 3D form.</p>
      </div>
    </section>

    <section class="visualizer">
      <div class="frame">
        <canvas id="display" width="1280" height="720"></canvas>
        <div class="glass"></div>
      </div>
      <audio id="audioPlayer" preload="auto"></audio>
    </section>
  </main>

  <script src="script.js"></script>
</body>
</html>
